/*C1*/SET SCHEMA SYSTEM_LOBS
INSERT INTO BLOCKS VALUES(0,2147483647,0)
COMMIT
/*C3*/SET SCHEMA PUBLIC
\u000a    create table Acessorio (\u000a        codigo bigint generated by default as identity (start with 1),\u000a        descricao varchar(255),\u000a        primary key (codigo)\u000a    )
\u000a    create table Aluguel (\u000a        codigo bigint generated by default as identity (start with 1),\u000a        data_devolucao timestamp,\u000a        data_entrega timestamp,\u000a        data_pedido date,\u000a        valor_total numeric(19,2),\u000a        codigo_apolice_seguro bigint,\u000a        codigo_carro bigint,\u000a        codigo_motorista bigint,\u000a        primary key (codigo)\u000a    )
\u000a    create table Carro (\u000a        codigo bigint generated by default as identity (start with 1),\u000a        chassi varchar(255),\u000a        cor varchar(255),\u000a        placa varchar(255),\u000a        valor_diaria numeric(19,2),\u000a        codigo_modelo bigint,\u000a        primary key (codigo)\u000a    )
\u000a    create table Fabricante (\u000a        codigo bigint not null,\u000a        nome varchar(255),\u000a        primary key (codigo)\u000a    )
\u000a    create table Funcionario (\u000a        matricula varchar(255),\u000a        codigo bigint not null,\u000a        primary key (codigo)\u000a    )
\u000a    create table ModeloCarro (\u000a        codigo bigint generated by default as identity (start with 1),\u000a        categoria varchar(255),\u000a        descricao varchar(255),\u000a        codigo_fabricante bigint,\u000a        primary key (codigo)\u000a    )
\u000a    create table Motorista (\u000a        numero_cnh varchar(255),\u000a        codigo bigint not null,\u000a        primary key (codigo)\u000a    )
\u000a    create table Pessoa (\u000a        codigo bigint generated by default as identity (start with 1),\u000a        cpf varchar(255),\u000a        data_nascimento date,\u000a        nome varchar(255),\u000a        sexo varchar(255),\u000a        primary key (codigo)\u000a    )
\u000a    create table apolice_seguro (\u000a        codigo bigint generated by default as identity (start with 1),\u000a        protecao_causas_naturais boolean,\u000a        protecao_roubo boolean,\u000a        protecao_terceiro boolean,\u000a        valor_franquia numeric(19,2),\u000a        primary key (codigo)\u000a    )
\u000a    create table carro_acessorio (\u000a        codigo_carro bigint not null,\u000a        codigo_acessorio bigint not null\u000a    )
\u000a    alter table Aluguel \u000a        add constraint FK_q8mog1g15tj6hm075vvtayjm3 \u000a        foreign key (codigo_apolice_seguro) \u000a        references apolice_seguro
\u000a    alter table Aluguel \u000a        add constraint FK_7tfqjpwf3qufolosmv6i6xt3v \u000a        foreign key (codigo_carro) \u000a        references Carro
\u000a    alter table Aluguel \u000a        add constraint FK_qbeeb3y1mascjv4xcthko6cjt \u000a        foreign key (codigo_motorista) \u000a        references Motorista
\u000a    alter table Carro \u000a        add constraint FK_f8lqr70qkd0l54r8qy7h7mmd6 \u000a        foreign key (codigo_modelo) \u000a        references ModeloCarro
\u000a    alter table Funcionario \u000a        add constraint FK_i0ix46mgqa5nyykpg41wvp8jw \u000a        foreign key (codigo) \u000a        references Pessoa
\u000a    alter table ModeloCarro \u000a        add constraint FK_27s43k64pb8b3smfvt4ixs6q7 \u000a        foreign key (codigo_fabricante) \u000a        references Fabricante
\u000a    alter table Motorista \u000a        add constraint FK_qixyrk70x7tiq4qggy5tm4ku7 \u000a        foreign key (codigo) \u000a        references Pessoa
\u000a    alter table carro_acessorio \u000a        add constraint FK_dd1hc1axf8n7r5krgcda8i3a7 \u000a        foreign key (codigo_acessorio) \u000a        references Acessorio
\u000a    alter table carro_acessorio \u000a        add constraint FK_pirutmmcekvihmnfjdoetlcuu \u000a        foreign key (codigo_carro) \u000a        references Carro
\u000a    create table GERADOR_CODIGO (\u000a         ENTIDADE varchar(255),\u000a         ALOCACAO integer \u000a    ) 
/*C4*/SET SCHEMA PUBLIC
INSERT INTO GERADOR_CODIGO VALUES('Fabricante',0)
DELETE FROM GERADOR_CODIGO WHERE ENTIDADE='Fabricante' AND ALOCACAO=0
INSERT INTO GERADOR_CODIGO VALUES('Fabricante',1)
COMMIT
/*C3*/INSERT INTO FABRICANTE VALUES(1,'Chevrolet')
COMMIT
INSERT INTO FABRICANTE VALUES(2,'Honda')
COMMIT
INSERT INTO MODELOCARRO VALUES(1,'SEDAN_MEDIO','Cruze',1)
COMMIT
INSERT INTO MODELOCARRO VALUES(2,'SEDAN_MEDIO','Civic',2)
COMMIT
INSERT INTO MODELOCARRO VALUES(3,'HATCH_COMPACTO','Fit',2)
COMMIT
INSERT INTO ACESSORIO VALUES(1,'Ar Condicionado')
COMMIT
INSERT INTO ACESSORIO VALUES(2,'Banco de Couro')
COMMIT
INSERT INTO ACESSORIO VALUES(3,'AirBag')
COMMIT
INSERT INTO ACESSORIO VALUES(4,'Som MP3')
COMMIT
INSERT INTO CARRO VALUES(1,NULL,'Branco','AAA-1234',200.00,1)
INSERT INTO CARRO_ACESSORIO VALUES(1,1)
INSERT INTO CARRO_ACESSORIO VALUES(1,2)
INSERT INTO CARRO_ACESSORIO VALUES(1,3)
INSERT INTO CARRO_ACESSORIO VALUES(1,4)
COMMIT
INSERT INTO CARRO VALUES(2,NULL,'Prata','BBB-2222',100.00,3)
INSERT INTO CARRO_ACESSORIO VALUES(2,1)
INSERT INTO CARRO_ACESSORIO VALUES(2,3)
COMMIT
INSERT INTO PESSOA VALUES(1,'81255322004','1958-02-01','Monteiro Lobato','MASCULINO')
INSERT INTO MOTORISTA VALUES('12345678',1)
COMMIT
DELETE FROM PESSOA WHERE CODIGO=1
INSERT INTO PESSOA VALUES(1,'81255322004','1958-02-01','Pedro Santos','MASCULINO')
COMMIT
INSERT INTO APOLICE_SEGURO VALUES(1,TRUE,FALSE,TRUE,150.00)
INSERT INTO ALUGUEL VALUES(1,'2019-01-30 15:00:00.000000','2019-01-23 14:00:00.000000','2019-01-23',350.00,1,1,1)
COMMIT
INSERT INTO APOLICE_SEGURO VALUES(2,TRUE,TRUE,TRUE,200.00)
INSERT INTO ALUGUEL VALUES(2,'2019-01-31 17:00:00.000000','2019-01-24 11:00:00.000000','2019-01-23',450.00,2,1,1)
COMMIT
INSERT INTO APOLICE_SEGURO VALUES(3,FALSE,TRUE,TRUE,150.00)
INSERT INTO ALUGUEL VALUES(3,'2019-01-31 15:00:00.000000','2019-01-23 16:00:00.000000','2019-01-23',350.00,3,2,1)
COMMIT
/*C5*/SET SCHEMA PUBLIC
DISCONNECT
/*C6*/SET SCHEMA PUBLIC
DISCONNECT
/*C7*/SET SCHEMA PUBLIC
DISCONNECT
/*C8*/SET SCHEMA PUBLIC
DISCONNECT
/*C9*/SET SCHEMA PUBLIC
DISCONNECT
/*C2*/SET SCHEMA PUBLIC
DISCONNECT
/*C4*/DISCONNECT
/*C3*/DISCONNECT
